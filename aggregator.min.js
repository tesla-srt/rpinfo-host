process.on("message",msg=>{let result=msg.data;result.CPU.clk*=1e3;result.CPU.load=Number.parseInt(result.CPU.load);if(result.firstrun){result.OS.cpumodel=msg.data.OS.cpumodel.split(" ",4).toString().replaceAll(","," ");result.OS.cpuclk*=1e3;let n=msg.data.GPU.name.split(" ");result.GPU.vendor=n[1];result.GPU.model=n[2];result.GPU.class=n[3]}result.RAM.total=result.firstrun?roundDown(msg.data.RAM.totalU):result.RAM.total;result.RAM.used=roundDown(msg.data.RAM.totalU-msg.data.RAM.free);result.HDD.forEach(element=>{element.size=roundDown(element.size);element.used=roundDown(element.used);element.available=roundDown(element.available)});let x=Date.now()-result.date;result.date=x;result.NET.rx_sec=result.NET.rx_bytes-msg.prev.NET.rx_bytes>=0?(result.NET.rx_bytes-msg.prev.NET.rx_bytes)/(x/1e3):0;result.NET.rx_sec/=125;result.NET.rx_sec=Number.parseInt(result.NET.rx_sec);result.NET.tx_sec=result.NET.tx_bytes-msg.prev.NET.tx_bytes>=0?(result.NET.tx_bytes-msg.prev.NET.tx_bytes)/(x/1e3):0;result.NET.tx_sec/=125;result.NET.tx_sec=Number.parseInt(result.NET.tx_sec);result.date=Date.now();result.firstrun=false;process.send(result)});function roundDown(x){return Math.floor(Math.floor(x/1e9)/4)*4}